<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>防晒霜 - 保护你的肌肤</title>
    
    <!-- Swiper 轮播图样式 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="stylesserum.css">
<link rel="stylesheet" href="styless.css">
</head>
</head>
<body>

    <!-- ✅ 导航栏 -->
    <nav>
        <div class="logo">GRACEANTJOY</div>
        <div class="nav-links">
            <a href="index.html">首页</a>
            <a href="index.html#popular-products">产品</a>
            <a href="cart.html">购物车 (<span id="cartCount">0</span>)</a>
        </div>
    </nav>

    <!-- ✅ 防晒霜 产品详情 -->
    <section class="product-page">
        <div class="container">
            
            <!-- ✅ Swiper 轮播图 -->
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="103.jpeg" alt="防晒霜1" class="gallery-img"></div>
                    <div class="swiper-slide"><img src="101.jpeg" alt="防晒霜1" class="gallery-img"></div>
                    <div class="swiper-slide"><img src="102.jpeg" alt="防晒霜2" class="gallery-img"></div>
                    <div class="swiper-slide"><img src="104.jpeg" alt="防晒霜4" class="gallery-img"></div>
                </div>
                <!-- 前后切换按钮 -->
               

            <!-- ✅ 产品信息 -->
            <div class="product-info">
                <h1 class="product-title">防晒霜 SPF50+</h1>
                <p class="product-description">
                    轻盈透气，SPF50+强效防晒，抵御紫外线伤害，同时滋润肌肤，适合各种肤质。
                </p>
                <span class="price">¥249</span>

                <!-- 选择数量 -->
                <div class="quantity-section">
                    <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
                    <input type="number" id="quantity" value="1" min="1" readonly>
                    <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
                </div>

                <!-- 加入购物车 -->
                <button class="add-to-cart" onclick="addToCart('防晒霜 SPF50+', 249)">加入购物车</button>
            </div>
        </div>
    </section>

    <!-- 购物车通知 -->
    <div class="cart-notification" id="cartNotification">已加入购物车</div>

    <!-- ✅ Swiper 轮播图 JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script>
        var swiper = new Swiper('.swiper-container', {
            loop: true,
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            zoom: true,
            spaceBetween: 10,
        });

        function changeQuantity(amount) {
            let quantityInput = document.getElementById('quantity');
            let newValue = parseInt(quantityInput.value) + amount;
            if (newValue < 1) newValue = 1;
            quantityInput.value = newValue;
        }

        function addToCart(productName, price) {
            let quantity = parseInt(document.getElementById('quantity').value);
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let existingProduct = cart.find(item => item.name === productName);
            
            if (existingProduct) {
                existingProduct.quantity += quantity;
            } else {
                cart.push({ name: productName, price: price, quantity: quantity });
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            document.getElementById('cartNotification').style.display = 'block';
            setTimeout(() => { document.getElementById('cartNotification').style.display = 'none'; }, 2000);
        }
    </script>
    <script>
  document.addEventListener("DOMContentLoaded", function () {
      updateCartCount(); // 页面加载时更新购物车数量
  });

  function updateCartCount() {
      let cartCount = localStorage.getItem("cartCount") || 0;
      document.querySelectorAll(".cart-count").forEach(el => {
          el.textContent = cartCount; // 更新所有页面上的购物车数量
      });
  }

  function addToCart() {
      let cartCount = parseInt(localStorage.getItem("cartCount") || 0);
      cartCount += 1; // 增加购物车数量
      localStorage.setItem("cartCount", cartCount); // 存储最新数量
      updateCartCount(); // 立即更新页面上的数量
  }
</script>

</body>
</html>
